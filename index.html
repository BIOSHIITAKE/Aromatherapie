<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aromath√©rapie scientifique ‚Äì Formulation gal√©nique interactive</title>
<style>
  body {font-family:'Segoe UI', Roboto, sans-serif; background:#fafafa; margin:0; padding:0; color:#222;}
  header {background:#4b7362; color:white; text-align:center; padding:1.5rem 1rem;}
  h1 {margin:0; font-size:1.8rem;}
  main {max-width:1100px; margin:2rem auto; padding:1rem;}
  input, select {padding:0.6rem; font-size:1rem; border:1px solid #ccc; border-radius:8px; width:100%; margin-bottom:1rem;}
  .grid {display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:1rem;}
  .card {background:white; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.1); padding:1rem; transition:transform 0.2s; cursor:pointer;}
  .card:hover {transform:scale(1.02);}
  .props span {background:#e6f4ea; padding:3px 7px; margin:2px; border-radius:5px; display:inline-block;}
  #results {margin-top:2rem;}
  table {width:100%; border-collapse:collapse; margin-top:1rem;}
  th, td {border:1px solid #ddd; padding:0.5rem; text-align:center;}
  th {background:#f0f0f0;}
  #melangeSection {margin-top:2rem;}
  footer {background:#4b7362; color:white; text-align:center; padding:1rem; margin-top:3rem;}
  .btnSuppr {background:#c33;color:white;border:none;padding:0.2rem 0.5rem;border-radius:4px;cursor:pointer;}
</style>
</head>
<body>
<header>
  <h1>üåø Aromath√©rapie scientifique ‚Äì Formulation gal√©nique interactive</h1>
  <p>Recherchez, s√©lectionnez vos HE et cr√©ez votre m√©lange personnalis√©</p>
</header>

<main>
  <input type="text" id="searchInput" placeholder="üîç Recherchez une mol√©cule, une propri√©t√© ou une huile essentielle...">

  <div style="display:flex; gap:1rem; flex-wrap:wrap; margin-bottom:1rem;">
    <select id="filterVoie">
      <option value="">Toutes les voies</option>
      <option>Cutan√©e</option>
      <option>Orale</option>
      <option>Diffusion</option>
    </select>
    <select id="filterIndication">
      <option value="">Toutes les indications</option>
      <option>Stress</option>
      <option>Acn√©</option>
      <option>Fatigue</option>
      <option>Douleurs articulaires</option>
      <option>Troubles digestifs</option>
      <option>Troubles du sommeil</option>
      <option>Hypertension</option>
      <option>Infections cutan√©es</option>
      <option>Maux de t√™te</option>
      <option>R√©tention d‚Äôeau</option>
    </select>
    <select id="filterRisques">
      <option value="">Tous les risques</option>
      <option>Grossesse</option>
      <option>Insuffisance r√©nale</option>
      <option>Aucun</option>
    </select>
  </div>

  <div id="results" class="grid"></div>

  <section id="melangeSection">
    <h2>üß™ M√©lange s√©lectionn√©</h2>
    <table id="melangeTable">
      <thead>
        <tr><th>HE</th><th>Mol√©cules principales</th><th>Propri√©t√©s</th><th>Indications</th><th>Voies</th><th>Supprimer</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>

  <section id="galenique">
    <h2>‚öóÔ∏è Synth√®se gal√©nique et pharmaceutique</h2>
    <table>
      <tr><th>Voie / Cible</th><th>Objectif gal√©nique</th><th>Formes recommand√©es</th><th>Excipients / vecteurs</th><th>Contraintes de stabilit√©</th><th>R√©f√©rences</th></tr>
      <tr><td>Orale syst√©mique</td><td>Lib√©ration rapide ou prolong√©e</td><td>G√©lules molles, micro-√©mulsions</td><td>TCM, l√©cithine, polysorbates</td><td>Oxydation, hydrolyse</td><td>Cimino (2021), Kaspute (2025)</td></tr>
      <tr><td>Cutan√©e</td><td>Effet topique local</td><td>Cr√®mes, gels, pommades</td><td>Jojoba, argan, l√©cithine</td><td>Oxydation, s√©paration</td><td>Nammas (2024)</td></tr>
      <tr><td>Diffusion atmosph√©rique</td><td>Effet olfactif neurov√©g√©tatif</td><td>Diffuseurs √† froid</td><td>Cyclodextrines, c√©ramiques</td><td>Volatilit√© excessive</td><td>Zhou (2024)</td></tr>
    </table>
  </section>
</main>

<footer>
  ¬© 2025 ‚Äì Laurent Aromath√©rapie scientifique ¬∑ Collaboration technique : GPT-5
</footer>

<script>
// --- Donn√©es HE ---
const huiles = [
  {nom:"Lavande vraie", latin:"Lavandula angustifolia", famille:"Lamiaceae",
   molecules:["Linalol","Ac√©tate de linalyle"], proprietes:["Calmante","Antispasmodique","R√©g√©n√©ratrice cutan√©e"],
   indications:["Stress","Troubles du sommeil"], voies:["Cutan√©e","Olfactive"], risques:["Aucun"]},

  {nom:"Tea tree", latin:"Melaleuca alternifolia", famille:"Myrtaceae",
   molecules:["Terpin√®ne-4-ol","Œ≥-Terpin√®ne"], proprietes:["Antibact√©rienne","Antifongique","Immunostimulante"],
   indications:["Infections cutan√©es","Acn√©"], voies:["Cutan√©e","Diffusion"], risques:["Aucun"]},

  {nom:"Menthe poivr√©e", latin:"Mentha √ó piperita", famille:"Lamiaceae",
   molecules:["Menthol","Menthone"], proprietes:["Tonique","Digestive","Antalgique locale"],
   indications:["Maux de t√™te","Troubles digestifs"], voies:["Cutan√©e","Orale"], risques:["Aucun"]},

  {nom:"Citron", latin:"Citrus limon", famille:"Rutaceae",
   molecules:["Limon√®ne","Œ≤-pin√®ne"], proprietes:["Tonique","D√©purative","Antiseptique a√©rienne"],
   indications:["Fatigue","Troubles digestifs"], voies:["Diffusion","Cutan√©e"], risques:["Aucun"]},

  {nom:"Ylang-ylang", latin:"Cananga odorata", famille:"Annonaceae",
   molecules:["Germacr√®ne D","Benzoate de benzyle"], proprietes:["Relaxante","Hypotensive","Aphrodisiaque"],
   indications:["Stress","Hypertension"], voies:["Cutan√©e","Diffusion"], risques:["Grossesse"]},

  {nom:"Gen√©vrier commun", latin:"Juniperus communis", famille:"Cupressaceae",
   molecules:["Œ±-pin√®ne","Sabin√®ne","Myrc√®ne"], proprietes:["Drainante","D√©purative","Antirhumatismale"],
   indications:["R√©tention d‚Äôeau","Douleurs articulaires"], voies:["Cutan√©e","Orale"], risques:["Insuffisance r√©nale"]}
];

// --- Normalisation ---
function normalize(str){return str.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();}

// --- M√©lange s√©lectionn√© ---
let melange = [];

// --- Filtrage HE ---
function filterResults(){
  const query=normalize(document.getElementById('searchInput').value);
  const voie=document.getElementById('filterVoie').value;
  const indication=document.getElementById('filterIndication').value;
  const risque=document.getElementById('filterRisques').value;
  const container=document.getElementById('results'); container.innerHTML='';

  const matches=huiles.filter(h=>{
    const fields=[h.nom,h.latin,...h.molecules,...h.proprietes,...h.indications];
    let textMatch=query?fields.some(f=>normalize(f).includes(query)):true;
    let voieMatch=!voie||h.voies.includes(voie);
    let indMatch=!indication||h.indications.includes(indication);
    let risqueMatch=!risque||(risque==="Tous les risques"||h.risques.includes(risque));
    return textMatch && voieMatch && indMatch && risqueMatch;
  });

  if(matches.length===0){container.innerHTML='<p style="text-align:center;color:#c33;">Aucun r√©sultat trouv√©.</p>';return;}

  matches.forEach(h=>{
    const card=document.createElement('div');
    card.className='card';
    card.innerHTML=`<h3>${h.nom}</h3><em>${h.latin}</em><br><strong>Famille :</strong> ${h.famille}<br><br>
      <strong>Mol√©cules :</strong> ${h.molecules.join(', ')}<br>
      <strong>Propri√©t√©s :</strong> ${h.proprietes.join(', ')}<br>
      <strong>Indications :</strong> ${h.indications.join(', ')}<br>
      <strong>Voies :</strong> ${h.voies.join(', ')}<br>
      <strong>Risques :</strong> ${h.risques.join(', ')}`;
    card.addEventListener('click',()=>addToMelange(h));
    container.appendChild(card);
  });
}

// --- Ajouter HE au m√©lange ---
function addToMelange(he){
  if(melange.includes(he)) return;
  melange.push(he);
  updateMelangeTable();
}

// --- Supprimer HE du m√©lange ---
function removeFromMelange(index){
  melange.splice(index,1);
  updateMelangeTable();
}

// --- Mettre √† jour tableau m√©lange ---
function updateMelangeTable(){
  const tbody=document.querySelector('#melangeTable tbody');
  tbody.innerHTML='';
  melange.forEach((h,i)=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${h.nom}</td>
      <td>${h.molecules.join(', ')}</td>
      <td>${h.proprietes.join(', ')}</td>
      <td>${h.indications.join(', ')}</td>
      <td>${h.voies.join(', ')}</td>
      <td><button class="btnSuppr" onclick="removeFromMelange(${i})">√ó</button></td>`;
    tbody.appendChild(tr);
  });
}

// --- √âv√©nements ---
document.getElementById('searchInput').addEventListener('input',filterResults);
document.getElementById('filterVoie').addEventListener('change',filterResults);
document.getElementById('filterIndication').addEventListener('change',filterResults);
document.getElementById('filterRisques').addEventListener('change',filterResults);

// --- Affichage initial ---
filterResults();
</script>
</body>
</html>

