<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aromath√©rapie Scientifique ‚Äì Formulation Clinique & Gal√©nique</title>
<style>
  body {font-family: system-ui, -apple-system, Roboto, Arial; margin:0; padding:0; background:#f8f9fa; color:#222;}
  header {background:#005f56; color:white; padding:1rem; text-align:center;}
  h1 {margin:0;}
  main {padding:2rem;}
  input, select {padding:0.6rem; border-radius:8px; border:1px solid #bbb; width:100%; max-width:400px;}
  .grid {display:grid; grid-template-columns: repeat(auto-fill,minmax(300px,1fr)); gap:1rem; margin-top:1rem;}
  .card {background:white; border:1px solid #ddd; border-radius:12px; padding:1rem; box-shadow:0 2px 5px rgba(0,0,0,0.05);}
  .card h3 {margin:0 0 .2rem;}
  .card small {color:#666;}
  .card button {margin-top:0.5rem; background:#00897b; color:white; border:none; border-radius:8px; padding:0.5rem 1rem; cursor:pointer;}
  .card button:hover {background:#00796b;}
  table {width:100%; border-collapse:collapse; margin-top:1rem; background:white;}
  th, td {border:1px solid #ccc; padding:0.5rem; text-align:center;}
  th {background:#eee;}
  .summary {margin-top:1rem; padding:1rem; background:white; border-radius:12px; border:1px solid #ddd;}
  .galenique {margin-top:2rem; background:white; padding:1.5rem; border-radius:12px; border:1px solid #ddd;}
  .galenique h2 {color:#005f56;}
  footer {text-align:center; padding:1rem; color:#666; font-size:0.9rem;}
</style>
</head>

<body>
<header>
  <h1>üåø Aromath√©rapie Scientifique</h1>
  <p>Formulation clinique ¬∑ Gal√©nique ¬∑ Recherche mol√©culaire</p>
</header>

<main>
  <section>
    <h2>üß™ Formulation clinique d'huiles essentielles</h2>
    <input type="text" id="search" placeholder="Recherche par nom, mol√©cule, propri√©t√©‚Ä¶">
    <div id="listeHE" class="grid"></div>
  </section>

  <section>
    <h2>üß© M√©lange s√©lectionn√©</h2>
    <table id="melangeTable">
      <thead>
        <tr>
          <th>HE</th>
          <th>Mol√©cules principales</th>
          <th>Propri√©t√©s</th>
          <th>Indications</th>
          <th>Voies</th>
          <th>Supprimer</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <div class="summary" id="resume">
      <strong>R√©sum√© mol√©culaire et fonctionnel :</strong>
      <div id="moleculesCumul"></div>
      <div id="proprietesCumul"></div>
    </div>
  </section>

  <section class="galenique">
    <h2>‚öóÔ∏è Gal√©nique et Aromath√©rapie Scientifique</h2>
    <p>Correspondances entre <strong>voies d‚Äôadministration</strong>, <strong>objectifs gal√©niques</strong>, 
       <em>formes conseill√©es</em>, <em>excipients cl√©s</em> et <em>crit√®res de stabilit√©</em>.</p>

    <table>
      <thead>
        <tr>
          <th>Voie / Cible</th>
          <th>Objectif gal√©nique</th>
          <th>Formes recommand√©es</th>
          <th>Excipients / vecteurs</th>
          <th>Contraintes de stabilit√©</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Orale</td>
          <td>Lib√©ration rapide ou prolong√©e selon l‚Äôeffet.</td>
          <td>G√©lules, micro√©mulsions, liposomes.</td>
          <td>TCM, huiles stables, polysorbates, cyclodextrines.</td>
          <td>Oxydation, hydrolyse acide.</td>
        </tr>
        <tr>
          <td>Cutan√©e</td>
          <td>Effet topique localis√©.</td>
          <td>Cr√®mes, gels, patchs.</td>
          <td>Huiles antioxydantes, l√©cithine, xanthane.</td>
          <td>Oxydation, s√©paration de phase.</td>
        </tr>
        <tr>
          <td>Diffusion</td>
          <td>Effet olfactif neurov√©g√©tatif.</td>
          <td>Diffuseurs √† froid, microcapsules.</td>
          <td>Cyclodextrines, polym√®res volatils.</td>
          <td>Volatilit√©, alt√©ration du support.</td>
        </tr>
      </tbody>
    </table>
  </section>
</main>

<footer>
  ¬© 2025 ‚Äì Laurent Aromath√©rapie scientifique ¬∑ Collaboration technique : GPT-5
</footer>

<script>
// --- Donn√©es huiles essentielles ---
const huiles = [
  { nom:"Lavande vraie", latin:"Lavandula angustifolia", famille:"Lamiaceae",
    molecules:["Linalol","Ac√©tate de linalyle"],
    proprietes:["Calmante","Antispasmodique","R√©g√©n√©ratrice cutan√©e"],
    indications:["Stress","Troubles du sommeil"], voies:["Cutan√©e","Olfactive"]
  },
  { nom:"Tea tree", latin:"Melaleuca alternifolia", famille:"Myrtaceae",
    molecules:["Terpin√®ne-4-ol","Œ≥-Terpin√®ne"],
    proprietes:["Antibact√©rienne","Antifongique","Immunostimulante"],
    indications:["Infections cutan√©es","Acn√©"], voies:["Cutan√©e","Diffusion"]
  },
  { nom:"Menthe poivr√©e", latin:"Mentha √ó piperita", famille:"Lamiaceae",
    molecules:["Menthol","Menthone"],
    proprietes:["Tonique","Digestive","Antalgique locale"],
    indications:["Maux de t√™te","Troubles digestifs"], voies:["Cutan√©e","Orale dilu√©e"]
  },
  { nom:"Citron", latin:"Citrus limon", famille:"Rutaceae",
    molecules:["Limon√®ne","Œ≤-pin√®ne"],
    proprietes:["Tonique","D√©purative","Antiseptique a√©rienne"],
    indications:["Fatigue","Digestion"], voies:["Diffusion","Cutan√©e"]
  },
  { nom:"Ylang-ylang compl√®te", latin:"Cananga odorata", famille:"Annonaceae",
    molecules:["Germacr√®ne D","Benzoate de benzyle"],
    proprietes:["Relaxante","Hypotensive","Aphrodisiaque"],
    indications:["Stress","Hypertension"], voies:["Cutan√©e","Diffusion"]
  },
  { nom:"Gen√©vrier commun", latin:"Juniperus communis", famille:"Cupressaceae",
    molecules:["Œ±-pin√®ne","Sabin√®ne","Myrc√®ne"],
    proprietes:["D√©purative r√©nale","Antirhumatismale","Tonique circulatoire"],
    indications:["R√©tention d‚Äôeau","Goutte","Douleurs articulaires"], voies:["Cutan√©e","Orale (courte dur√©e)"]
  }
];

// --- Utilitaires de recherche accent-insensible ---
function normaliser(txt) {
  return txt.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();
}

let melange = [];

function renderListe() {
  const search = normaliser(document.getElementById("search").value);
  const container = document.getElementById("listeHE");
  container.innerHTML = "";
  huiles.filter(h => normaliser(h.nom).includes(search)
    || h.molecules.some(m => normaliser(m).includes(search))
    || h.proprietes.some(p => normaliser(p).includes(search))
    || h.indications.some(i => normaliser(i).includes(search)))
  .forEach(h => {
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <h3>${h.nom}</h3>
      <small><em>${h.latin}</em></small>
      <p><strong>Famille :</strong> ${h.famille}</p>
      <p><strong>Mol√©cules :</strong> ${h.molecules.join(", ")}</p>
      <p><strong>Propri√©t√©s :</strong> ${h.proprietes.join(", ")}</p>
      <p><strong>Indications :</strong> ${h.indications.join(", ")}</p>
      <p><strong>Voies :</strong> ${h.voies.join(", ")}</p>
      <button onclick="ajouterMelange('${h.nom}')">Ajouter au m√©lange</button>`;
    container.appendChild(card);
  });
}

function ajouterMelange(nom) {
  const he = huiles.find(h=>h.nom===nom);
  if(!melange.includes(he)) melange.push(he);
  renderMelange();
}

function supprimerHE(i) {
  melange.splice(i,1);
  renderMelange();
}

function renderMelange() {
  const tbody = document.querySelector("#melangeTable tbody");
  tbody.innerHTML = "";
  let cumulMol = new Set(), cumulProp = new Set();
  melange.forEach((h,i) => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${h.nom}</td>
      <td>${h.molecules.join(", ")}</td>
      <td>${h.proprietes.join(", ")}</td>
      <td>${h.indications.join(", ")}</td>
      <td>${h.voies.join(", ")}</td>
      <td><button onclick="supprimerHE(${i})">‚ùå</button></td>`;
    tbody.appendChild(tr);
    h.molecules.forEach(m=>cumulMol.add(m));
    h.proprietes.forEach(p=>cumulProp.add(p));
  });
  document.getElementById("moleculesCumul").innerText = "Mol√©cules pr√©sentes : " + Array.from(cumulMol).join(", ");
  document.getElementById("proprietesCumul").innerText = "Propri√©t√©s combin√©es : " + Array.from(cumulProp).join(", ");
}

document.getElementById("search").addEventListener("input", renderListe);
renderListe();
</script>
</body>
</html>
