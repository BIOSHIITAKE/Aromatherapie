<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Juniperus communis (baies) - Genévrier commun</title>
<style>
body {font-family: system-ui, -apple-system, Roboto, Arial; margin:0; padding:2rem; background:#f4f4f4;}
h1, h2 {color:#00695c;}
h1 {text-align:center; margin-bottom:1rem;}
.grid {display:grid; grid-template-columns: repeat(auto-fill,minmax(300px,1fr)); gap:1rem;}
.card {background:white; border-radius:12px; padding:1rem; box-shadow:0 2px 5px rgba(0,0,0,0.1);}
.card h3 {margin:0 0 .3rem;}
.family {color:#2a7; font-weight:500;}
table {width:100%; border-collapse:collapse; margin-top:1rem; background:white;}
th, td {border:1px solid #ccc; padding:0.5rem; text-align:center;}
th {background:#eee;}
.mono {background:#d0fcc5;}
.sesqui {background:#fff9a0;}
.mono-ol {background:#b3e5fc;}
.cetone {background:#f7b5f0;}
.voi {display:inline-block; padding:0.3rem 0.6rem; border-radius:8px; margin:0.1rem; color:white; font-weight:bold; cursor:pointer;}
.oui {background:#4caf50;}
.non {background:#f44336;}
.pas {background:#9c27b0;}
ul {list-style:none; padding-left:0;}
li {background:#fff; margin:0.3rem 0; padding:0.5rem; border-radius:8px; border:1px solid #ddd;}
.checked {outline:2px solid #2196f3;}
.summary {margin-top:1rem; padding:1rem; border-radius:12px;}
.safe {background:#d0fcc5; color:#000;}
.warn {background:#fff3cd; color:#000;}
.danger {background:#fdcece; color:#000;}
</style>
</head>
<body>

<h1>Juniperus communis (baies) - Genévrier commun</h1>

<div class="grid">
  <!-- Informations générales -->
  <div class="card">
    <h3>Informations générales</h3>
    <p class="family"><strong>Famille :</strong> Cupressacées</p>
    <p><strong>Partie distillée :</strong> Baies</p>
    <p><strong>Propriétés :</strong> Anti-inflammatoire, Cholagogue/Choléretique, Anti-infectieuse</p>
    <p><strong>Contre-indications :</strong> Éviter grossesse, insuffisance rénale</p>
    <p><strong>Densité :</strong> 0.86 g/ml</p>
    <p><strong>Prix :</strong> 4.1</p>
  </div>

  <!-- Voies d'administration -->
  <div class="card">
    <h3>Voies d'administration</h3>
    <span class="voi oui" data-safe="safe" onclick="toggleVoi(this)">Externe diluée</span>
    <span class="voi oui" data-safe="warn" onclick="toggleVoi(this)">Externe pure (avec autres HE)</span>
    <span class="voi oui" data-safe="warn" onclick="toggleVoi(this)">Per os diluée (courte durée, surveillance)</span>
    <span class="voi pas" data-safe="danger" onclick="toggleVoi(this)">Rectale / vaginale</span>
    <span class="voi oui" data-safe="safe" onclick="toggleVoi(this)">Diffusion</span>
    <span class="voi non" data-safe="danger" onclick="toggleVoi(this)">Inhalation</span>
    <div class="summary safe" id="voieSummary">Sélectionnez les voies pour voir la sécurité.</div>
  </div>

  <!-- Chimotype et molécules -->
  <div class="card">
    <h3>Chimotype et molécules principales</h3>
    <table>
      <thead>
        <tr>
          <th>Proportion</th>
          <th>Classe</th>
          <th>Molécules</th>
        </tr>
      </thead>
      <tbody>
        <tr class="mono">
          <td>80-85%</td>
          <td>Monoterpènes</td>
          <td><label><input type="checkbox" value="α-pinène">α-pinène</label>,
              <label><input type="checkbox" value="sabinène">sabinène</label>,
              <label><input type="checkbox" value="myrcène">myrcène (15-20%)</label></td>
        </tr>
        <tr class="sesqui">
          <td>10-15%</td>
          <td>Sesquiterpènes</td>
          <td><label><input type="checkbox" value="germacrène">germacrène</label>,
              <label><input type="checkbox" value="β-caryophyllène">β-caryophyllène</label></td>
        </tr>
        <tr class="mono-ol">
          <td>2-3%</td>
          <td>Monoterpénols</td>
          <td><label><input type="checkbox" value="terpinène-4-ol">terpinène-4-ol</label></td>
        </tr>
        <tr class="cetone">
          <td>Traces</td>
          <td>Cétones</td>
          <td>–</td>
        </tr>
      </tbody>
    </table>
    <div class="summary safe" id="moleculeSummary">Cochez les molécules pour voir le résumé.</div>
  </div>

  <!-- Préparations -->
  <div class="card">
    <h3>Préparations</h3>
    <ul>
      <li>Externe diluée (massage, application locale)</li>
      <li>Externe pure en mélange avec d'autres HE</li>
      <li>Per os diluée (courte durée, sous surveillance médicale)</li>
      <li>Diffusion atmosphérique</li>
    </ul>
  </div>
</div>

<script>
// Gestion voies d'administration
function toggleVoi(el) {
  el.classList.toggle('checked');
  let selected = Array.from(document.querySelectorAll('.voi.checked'));
  let summary = document.getElementById('voieSummary');
  if(selected.length === 0) {
    summary.textContent = "Sélectionnez les voies pour voir la sécurité.";
    summary.className = "summary safe";
    return;
  }
  let messages = selected.map(v => v.textContent);
  let safeStatus = selected.map(v => v.dataset.safe);
  if(safeStatus.includes('danger')) summary.className = "summary danger";
  else if(safeStatus.includes('warn')) summary.className = "summary warn";
  else summary.className = "summary safe";
  summary.textContent = "Sécurisée pour : " + messages.join(', ');
}

// Résumé molécules
document.querySelectorAll('input[type=checkbox]').forEach(chk => {
  chk.addEventListener('change', () => {
    let checked = Array.from(document.querySelectorAll('input[type=checkbox]:checked')).map(c => c.value);
    let summary = document.getElementById('moleculeSummary');
    if(checked.length === 0) {
      summary.textContent = "Cochez les molécules pour voir le résumé.";
      summary.className = "summary safe";
      return;
    }
    summary.textContent = "Molécules sélectionnées : " + checked.join(', ') + ". Propriétés : Anti-inflammatoire, Cholagogue, Anti-infectieuse";
    summary.className = "summary safe";
  });
});
</script>

</body>
</html>
